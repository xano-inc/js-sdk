(()=>{"use strict";var t,e={};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),function(t){t.Text="text/plain",t.JSON="application/json"}(t||(t={}));var n,r,o=(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},n(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=function(t){function e(e,n){var r=t.call(this,e)||this;return r.getHttpResponse=function(){return n},r}return o(e,t),e}(Error);!function(t){t.DELETE="DELETE",t.GET="GET",t.HEAD="HEAD",t.PATCH="PATCH",t.POST="POST",t.PUT="PUT"}(r||(r={}));var s,u=function(){function t(t,e){this.body=e,this.response=t}return t.prototype.getBody=function(){return this.body},t.prototype.getHeaders=function(){var t={};return this.response.headers.forEach((function(e,n){t[n]=e})),t},t.prototype.getStatusCode=function(){return this.response.status},t}();!function(t){t.JSON="json",t.Text="text",t.Default="json"}(s||(s={}));var a=function(){return a=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},a.apply(this,arguments)},c=function(){function e(t){this.config={responseType:s.Default},this.config=a(a({},this.config),t)}return e.prototype.isAuthenticated=function(){var t;return"string"==typeof(null===(t=this.config)||void 0===t?void 0:t.authBearerToken)&&this.config.authBearerToken.length>0},e.prototype.request=function(e){var n=new Headers,o=new URL("".concat(this.config.apiGroupBaseUrl).concat(e.endpoint));e.urlParams&&this.updateUrlWithParams(o,e.urlParams),this.isAuthenticated()&&n.set("Authentication","Bearer ".concat(this.config.authBearerToken)),e.method===r.HEAD||e.method===r.DELETE||this.config.responseType===s.Text?n.set("Accept",t.Text):this.config.responseType===s.JSON&&n.set("Accept",t.JSON);var a,c={headers:n,method:e.method};return e.bodyParams&&(n.set("Content-Type",t.JSON),c.body=JSON.stringify(e.bodyParams)),fetch(o.toString(),c).then((function(e){switch(a=e,n.get("Accept")){case t.JSON:return e.json();case t.Text:return e.text()}})).then((function(t){var e=new u(a,t);if(!a.ok)throw new i("There was an error with your request",e);return e}))},e.prototype.updateUrlWithParams=function(t,e){var n=new URLSearchParams(t.search);Object.keys(e).forEach((function(t){n.set(t,e[t])})),t.search=n.toString()},e.prototype.setAuthBearerToken=function(t){return this.config.authBearerToken=t,this},e.prototype.setResponseType=function(t){return this.config.responseType=t,this},e.prototype.delete=function(t,e){return this.request({bodyParams:e,endpoint:t,method:r.DELETE})},e.prototype.get=function(t,e){return this.request({endpoint:t,method:r.GET,urlParams:e})},e.prototype.head=function(t,e){return this.request({endpoint:t,method:r.HEAD,urlParams:e})},e.prototype.patch=function(t,e){return this.request({bodyParams:e,endpoint:t,method:r.PATCH})},e.prototype.post=function(t,e){return this.request({bodyParams:e,endpoint:t,method:r.POST})},e.prototype.put=function(t,e){return this.request({bodyParams:e,endpoint:t,method:r.PUT})},e}();e.g.XanoClient=c})();